import{r as c,j as s}from"./app-RD4YkSLs.js";import{F as j,D as b,r as v,p as h}from"./react-filepond.esm-BVei1hwj.js";import{B as p}from"./createLucideIcon-Bh2i4FhY.js";import{I as f}from"./input-error-CwvFes-0.js";import{C as y}from"./check-CguumAvl.js";v(h);function k({stored_images:x=[],stored_primary_image_uuid:o="",data:N,setData:u,errors:l,processing:E}){const[n,g]=c.useState([]);c.useEffect(()=>{u("files",n)},[n]);const[t,r]=c.useState([]);c.useEffect(()=>{console.log("imagesToRemove",t),u("files_to_remove",t)},[t]);const[i,d]=c.useState(o);return c.useEffect(()=>{u("primary_image_uuid",i),console.log("imageToSelect",i)},[i]),s.jsxs(s.Fragment,{children:[s.jsx(j,{files:n,onupdatefiles:e=>{g(e.map(m=>m.file))},allowMultiple:!0,labelIdle:'Arraste e solte arquivos aqui ou <span class="filepond--label-action">clique para selecionar</span>.<br />ApÃ³s carregar, clique em Salvar para fazer o upload.'}),s.jsx(f,{className:"mt-2",message:l==null?void 0:l.files}),s.jsx(f,{className:"mt-2",message:l==null?void 0:l.files_to_remove}),s.jsx(f,{className:"mt-2",message:l==null?void 0:l.primary_image_uuid}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:x.map((e,m)=>s.jsxs("div",{className:"flex flex-col items-center w-full",children:[s.jsx("img",{src:e.path,alt:e.path,className:"object-cover w-full h-32 rounded-lg shadow-md"+(t.find(a=>a===e.uuid)?" opacity-50":"")},e.uuid+"image"),s.jsx("p",{className:"flex-1 flex items-center text-xs text-center mt-2 break-all text-wrap my-2",children:e.original_name||`Imagem ${m+1}`}),s.jsxs("div",{className:"w-full flex flex-col justify-between",children:[s.jsxs(p,{type:"button",variant:"secondary",className:e.uuid==i?"bg-green-600 text-primary":"bg-secondary",onClick:()=>{d(e.uuid)},children:[s.jsx(y,{})," Principal"]},e.uuid+"select_button"),s.jsxs(p,{type:"button",variant:"secondary",className:t.find(a=>a===e.uuid)?"bg-red-600 text-primary hover:bg-red-500":"bg-secondary hover:bg-red-500",onClick:()=>{t.find(a=>a===e.uuid)?(r(t.filter(a=>a!==e.uuid)),e.uuid===o&&i===""&&d(o)):(r([...t,e.uuid]),e.uuid===i&&d(""))},children:[s.jsx(b,{})," Deletar"]},e.uuid+"delete_button")]})]},e.uuid))})]})}export{k as E};
