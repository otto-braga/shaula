import{a as d,r as m,j as e,u as p}from"./app-RD4YkSLs.js";import{I as f}from"./input-error-CwvFes-0.js";import{L as x}from"./label-BALK6TZp.js";import{S as h}from"./lazy-loading-select-DxCqoid1.js";import{B as u}from"./createLucideIcon-Bh2i4FhY.js";import{D as j,a as g,b as S,c as b,d as v,e as C}from"./dialog-CjggdYCN.js";import{C as N}from"./check-CguumAvl.js";import{X as D}from"./sheet-C8lzNEVF.js";import{E}from"./edit-layout-DbfRjes2.js";/* empty css            */import"./index-gSivFwI-.js";import"./select-styled-BX3MzeYj.js";import"./app-layout-QDXit8dA.js";import"./index-DnHvJ50q.js";import"./index-Bdhum9Hy.js";function T({processing:t,isEdit:r=!1,isSubmit:n=!0,onClick:a}){const{flash:s}=d().props,l=3e3,[i,o]=m.useState(!1);return m.useEffect(()=>{(s==null?void 0:s.success)!=null&&!i&&(o(!0),setTimeout(()=>{o(!1)},l))},[s]),e.jsx(u,{type:n?"submit":"button",onClick:a,disabled:t||i,className:"rounded min-w-[8em]"+(i?s!=null&&s.success?" bg-green-400":" bg-red-400":""),children:t?"Salvando...":i?s!=null&&s.success?e.jsxs("div",{className:"flex items-center gap-2",children:["Salvo! ",e.jsx(N,{className:"h-16 w-16"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:["Erro! ",e.jsx(D,{className:"h-16 w-16"})]}):"Salvar"})}function w({onSubmit:t,processing:r=!1}){const[n,a]=m.useState(!1),{flash:s}=d().props,l=3e3,[i,o]=m.useState(!1);return m.useEffect(()=>{(s==null?void 0:s.success)!=null&&!i&&(o(!0),setTimeout(()=>{o(!1)},l))},[s]),e.jsx(e.Fragment,{children:e.jsxs(j,{open:n,onOpenChange:a,children:[e.jsx(g,{asChild:!0,children:e.jsx(T,{processing:r,isSubmit:!1,onClick:()=>a(!0)})}),e.jsxs(S,{children:[e.jsx(b,{children:"Confirmar"}),e.jsx("p",{children:"Tem certeza de que deseja continuar?"}),e.jsxs(v,{className:"gap-2",children:[e.jsx(C,{asChild:!0,children:e.jsx(u,{variant:"secondary",onClick:()=>a(!1),children:"Cancelar"})}),e.jsx(u,{variant:"default",onClick:c=>{a(!1),t(c)},children:"Continuar"})]})]})]})})}function A({user:t}){var o;const r=!!t,{setData:n,post:a,processing:s}=p({role_uuid:t?(o=t.role)==null?void 0:o.uuid:""}),{errors:l}=d().props,i=c=>{c.preventDefault(),r?a(route("users.update",t.uuid),{preserveScroll:!0,preserveState:!1}):a(route("users.store"),{preserveScroll:!0,preserveState:!1})};return e.jsx(E,{className:"py-4",children:e.jsxs("form",{onSubmit:i,className:"space-y-3 bg-inherit",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:t.name}),e.jsx(w,{onSubmit:i,processing:s})]}),r,e.jsxs("div",{children:[e.jsx(x,{htmlFor:"role_uuid",children:"Função"}),e.jsx(h,{routeName:"roles.fetch.options.all",value:{uuid:t==null?void 0:t.role.uuid,label:t==null?void 0:t.role.label},onChange:c=>{n("role_uuid",c.uuid)}}),e.jsx(f,{className:"mt-2",message:l.role_uuid})]})]})})}export{A as default};
