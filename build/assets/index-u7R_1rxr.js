import{u as S,a as L,r as y,j as e}from"./app-RD4YkSLs.js";import{I as l}from"./input-error-CwvFes-0.js";import{I as u}from"./input-CAiv3s-V.js";import{L as o}from"./label-BALK6TZp.js";import{E as b}from"./Editor-DH9_B-lZ.js";import{E as F}from"./edit-tabs-DwnU_rGx.js";import{L as c}from"./lazy-loading-select-DxCqoid1.js";import{E as I}from"./edit-layout-DbfRjes2.js";/* empty css            */import"./createLucideIcon-Bh2i4FhY.js";import"./index-gSivFwI-.js";import"./check-CguumAvl.js";import"./sheet-C8lzNEVF.js";import"./index-DnHvJ50q.js";import"./select-styled-BX3MzeYj.js";import"./app-layout-QDXit8dA.js";import"./index-Bdhum9Hy.js";function Q({person:t}){var x,f,_,j,p,v;const h=!!t,{data:r,setData:s,post:g,processing:k}=S({name:t?t.data.name:"",date_of_birth:t?t.data.date_of_birth:"",date_of_death:t?t.data.date_of_death:"",genders_uuids:t?(x=t.data.genders)==null?void 0:x.map(a=>a.uuid):[],cities_uuids:t?(f=t.data.cities)==null?void 0:f.map(a=>a.uuid):[],periods_uuids:t?(_=t.data.periods)==null?void 0:_.map(a=>a.uuid):[],links:t?t.data.links:"",chronology:t?t.data.chronology:""}),{errors:d}=L().props,N=a=>{a.preventDefault(),h?g(route("people.update",t.data),{preserveScroll:!0,preserveState:!1}):g(route("people.store"),{preserveScroll:!0,preserveState:!1})},n=y.useRef(null);function E(a){var i;s("links",((i=n==null?void 0:n.current)==null?void 0:i.getContent())??"")}const m=y.useRef(null);function C(a){var i;s("chronology",((i=m==null?void 0:m.current)==null?void 0:i.getContent())??"")}return e.jsx(I,{children:e.jsxs("form",{onSubmit:N,className:"space-y-3 bg-inherit",children:[e.jsx(F,{model:t,route_base_name:"people",processing:k}),h,e.jsxs("div",{children:[e.jsx(o,{htmlFor:"title",children:"Nome"}),e.jsx(u,{id:"title",value:r.name??"",onChange:a=>s("name",a.target.value),autoComplete:"name"}),e.jsx(l,{className:"mt-2",message:d.name})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(o,{htmlFor:"date",children:"Data de Nascimento"}),e.jsx(u,{id:"date_of_birth",type:"date",value:r.date_of_birth??"",onChange:a=>s("date_of_birth",a.target.value),autoComplete:"date",className:"w-full"}),e.jsx(l,{className:"mt-2",message:d.date_of_birth})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(o,{htmlFor:"date",children:"Data de Falecimento"}),e.jsx(u,{id:"date_of_death",type:"date",value:r.date_of_death??"",onChange:a=>s("date_of_death",a.target.value),autoComplete:"date",className:"w-full"}),e.jsx(l,{className:"mt-2",message:d.date_of_death})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"genders",children:"Identidades de gênero"}),e.jsx(c,{isMulti:!0,routeName:"genders.fetch.options",value:(j=t==null?void 0:t.data.genders)==null?void 0:j.map(a=>({uuid:a.uuid,label:a.name})),onChange:a=>{s("genders_uuids",a.map(i=>i.uuid))}}),e.jsx(l,{className:"mt-2",message:d.genders_uuids})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"cities",children:"Cidades"}),e.jsx(c,{isMulti:!0,routeName:"cities.fetch.options",value:(p=t==null?void 0:t.data.cities)==null?void 0:p.map(a=>({uuid:a.uuid,label:a.name})),onChange:a=>{s("cities_uuids",a.map(i=>i.uuid))}}),e.jsx(l,{className:"mt-2",message:d.cities_uuids})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"periods",children:"Periodização"}),e.jsx(c,{isMulti:!0,routeName:"periods.fetch.options",value:(v=t==null?void 0:t.data.periods)==null?void 0:v.map(a=>({uuid:a.uuid,label:a.name})),onChange:a=>{s("periods_uuids",a.map(i=>i.uuid))}}),e.jsx(l,{className:"mt-2",message:d.periods_uuids})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"links",children:"Links relacionados"}),e.jsx(b,{tinymceScriptSrc:"/tinymce/tinymce.min.js",licenseKey:"gpl",onInit:(a,i)=>n.current=i,initialValue:(t==null?void 0:t.data.links)||"",init:{plugins:["autolink","lists","link","autoresize"],min_height:150,autoresize_bottom_margin:0,menubar:!1,skin:document.documentElement.classList.contains("dark")?"oxide-dark":"oxide",content_css:document.documentElement.classList.contains("dark")?"dark":"default",toolbar:"link | undo redo",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px } img {max-width: 80%; display: block; margin: auto; padding: 1rem;}"},onEditorChange:E}),e.jsx(l,{className:"mt-2",message:d.links})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"chronology",children:"Cronologia"}),e.jsx(b,{tinymceScriptSrc:"/tinymce/tinymce.min.js",licenseKey:"gpl",onInit:(a,i)=>m.current=i,initialValue:(t==null?void 0:t.data.chronology)||"",init:{plugins:["autolink","lists","autoresize"],min_height:150,autoresize_bottom_margin:0,menubar:!1,skin:document.documentElement.classList.contains("dark")?"oxide-dark":"oxide",content_css:document.documentElement.classList.contains("dark")?"dark":"default",toolbar:"undo redo",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px } img {max-width: 80%; display: block; margin: auto; padding: 1rem;}"},onEditorChange:C}),e.jsx(l,{className:"mt-2",message:d.chronology})]})]})})}export{Q as default};
