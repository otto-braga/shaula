import{u as f,a as N,j as t}from"./app-RD4YkSLs.js";import{I as r}from"./input-error-CwvFes-0.js";import{I as h}from"./input-CAiv3s-V.js";import{L as u}from"./label-BALK6TZp.js";import{E as _}from"./edit-tabs-DwnU_rGx.js";import{L as x}from"./lazy-loading-select-DxCqoid1.js";import{E as b}from"./edit-layout-DbfRjes2.js";/* empty css            */import"./createLucideIcon-Bh2i4FhY.js";import"./index-gSivFwI-.js";import"./check-CguumAvl.js";import"./sheet-C8lzNEVF.js";import"./index-DnHvJ50q.js";import"./select-styled-BX3MzeYj.js";import"./app-layout-QDXit8dA.js";import"./index-Bdhum9Hy.js";function q({review:s}){var p,n,c;const l=!!s;console.log(s);const{data:m,setData:e,post:d,processing:g}=f({title:s?s.data.title:"",date:s?s.data.date:"",authors_uuids:s?s.data.authors.map(a=>a.uuid):[],categories_uuids:s?(p=s.data.categories)==null?void 0:p.map(a=>a.uuid):[]}),{errors:o}=N().props,j=a=>{a.preventDefault(),l?d(route("reviews.update",s.data),{preserveScroll:!0,preserveState:!1}):d(route("reviews.store"),{preserveScroll:!0,preserveState:!1})};return t.jsx(b,{children:t.jsxs("form",{onSubmit:j,className:"space-y-3 bg-inherit",children:[t.jsx(_,{model:s,route_base_name:"reviews",processing:g}),l,t.jsxs("div",{children:[t.jsx(u,{htmlFor:"title",children:"TÃ­tulo"}),t.jsx(h,{id:"title",value:m.title??"",onChange:a=>e("title",a.target.value),autoComplete:"title"}),t.jsx(r,{className:"mt-2",message:o.title})]}),t.jsxs("div",{children:[t.jsx(u,{htmlFor:"authors_uuids",children:"Autores"}),t.jsx(x,{isMulti:!0,routeName:"people.fetch.options",value:(n=s==null?void 0:s.data.authors)==null?void 0:n.map(a=>({uuid:a.uuid,label:a.name})),onChange:a=>{e("authors_uuids",a.map(i=>i.uuid))}}),t.jsx(r,{className:"mt-2",message:o.authors_uuids})]}),t.jsx("div",{className:"flex flex-row gap-3",children:t.jsxs("div",{className:"w-full",children:[t.jsx(u,{htmlFor:"date",children:"Data"}),t.jsx(h,{id:"date",type:"date",value:m.date,onChange:a=>e("date",a.target.value),autoComplete:"date",className:"w-full"}),t.jsx(r,{className:"mt-2",message:o.date})]})}),t.jsxs("div",{children:[t.jsx(u,{htmlFor:"categories",children:"Categorias"}),t.jsx(x,{isMulti:!0,routeName:"categories.fetch.options",value:(c=s==null?void 0:s.data.categories)==null?void 0:c.map(a=>({uuid:a.uuid,label:a.name})),onChange:a=>{e("categories_uuids",a.map(i=>i.uuid))}}),t.jsx(r,{className:"mt-2",message:o.categories_uuids})]})]})})}export{q as default};
