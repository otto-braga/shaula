import{a as B,r as P,j as e,L as N}from"./app-RD4YkSLs.js";import{B as U}from"./createLucideIcon-Bh2i4FhY.js";import{C as k}from"./check-CguumAvl.js";import{X as L}from"./sheet-C8lzNEVF.js";var j=(r=>(r.ROUTE="people",r.TYPE="person",r.TYPE_LABEL="Pessoa",r.TYPE_PLURAL="Pessoas",r))(j||{}),v=(r=>(r.ROUTE="artworks",r.TYPE="artwork",r.TYPE_LABEL="Obra",r.TYPE_PLURAL="Obras",r))(v||{}),Y=(r=>(r.ROUTE="reviews",r.TYPE="review",r.TYPE_LABEL="Crítica",r.TYPE_PLURAL="Críticas",r))(Y||{}),g=(r=>(r.ROUTE="periods",r.TYPE="period",r.TYPE_LABEL="Período",r.TYPE_PLURAL="Períodos",r))(g||{}),w=(r=>(r.ROUTE="history_articles",r.TYPE="history_article",r.TYPE_LABEL="Artigo de História",r.TYPE_PLURAL="Artigos de História",r))(w||{}),m=(r=>(r.ROUTE="sources",r.TYPE="source",r.TYPE_LABEL="Fonte",r.TYPE_PLURAL="Fontes",r))(m||{}),f=(r=>(r[r.people=j.TYPE_LABEL]="people",r[r.artworks=v.TYPE_LABEL]="artworks",r[r.reviews=Y.TYPE_LABEL]="reviews",r[r.history_articles=w.TYPE_LABEL]="history_articles",r[r.periods=g.TYPE_LABEL]="periods",r[r.sources=m.TYPE_LABEL]="sources",r))(f||{});function u({slug:r,route_base_name:t,desired_route:x,isEdit:n,children:E}){return x=x?"."+x:"",e.jsx(N,{className:"flex items-center pl-8 justify-center h-8 border-r border-t rounded-t px-3"+(n?"":" text-slate-300")+(route().current(t+".edit"+x)?" border-r-2 font-semibold bg-accent":""),href:n?route(t+".edit"+x,r):"",children:E})}function F({model:r,route_base_name:t,processing:x,className:n,hasPeopleTab:E=!1,hasImagesTab:s=!1,hasContentTab:i=!1,hasSourcesTab:d=!1}){switch(t){case"people":s=s||!0,i=i||!0,d=d||!0;break;case"artworks":E=E||!0,s=s||!0,i=i||!0,d=d||!0;break;case"reviews":s=s||!0,i=i||!0,d=d||!0;break;case"history_articles":s=s||!0,i=i||!0,d=d||!0;break;case"periods":s=s||!0,i=i||!0,d=d||!0;break}const{flash:c}=B().props,A=3e3,[o,p]=P.useState(!1);P.useEffect(()=>{(c==null?void 0:c.success)!=null&&!o&&(p(!0),setTimeout(()=>{p(!1)},A))},[c]);const l=!!r;return console.log("EditTabs model",r),e.jsxs("div",{className:"flex flex-col gap-2 pt-4"+(n?" "+n:""),children:[e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex flex-col items-center justify-center flex-wrap gap-2 sm:flex-row",children:[e.jsx("h2",{className:"flex-1 text-xl font-bold text-center",children:l?`${"title"in r.data?r.data.title:"name"in r.data?r.data.name:""}`:"[novo cadastro]"}),f[t]&&e.jsx("span",{className:"self-center text-xs text-muted-foreground border py-1 px-2 rounded sm:self-end",children:f[t]})]})}),e.jsxs("div",{className:"text-xs flex flex-col overflow-x-hidden w-full items-center justify-between rounded sm:flex-row",children:[e.jsx("div",{className:"flex py-4 mr-4 overflow-x-scroll w-full"+(l?"":" pointer-events-none"),children:l&&e.jsxs(e.Fragment,{children:[e.jsx(u,{slug:r.data.slug??"",route_base_name:t,desired_route:"",isEdit:l,children:"Editar"}),E&&e.jsx(u,{slug:r.data.slug??"",route_base_name:t,desired_route:"people",isEdit:l,children:"Pessoas"}),s&&e.jsx(u,{slug:r.data.slug??"",route_base_name:t,desired_route:"images",isEdit:l,children:"Imagens"}),i&&e.jsx(u,{slug:r.data.slug??"",route_base_name:t,desired_route:"content",isEdit:l,children:"Conteúdo"}),d&&e.jsx(u,{slug:r.data.slug??"",route_base_name:t,desired_route:"sources",isEdit:l,children:"Fontes"})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(U,{type:"submit",disabled:x||o,className:"w-24 text-xs"+(o?c!=null&&c.success?" bg-green-400":" bg-red-400":""),children:x?"Salvando...":o?c!=null&&c.success?e.jsxs("div",{className:"flex items-center gap-2",children:["Salvo! ",e.jsx(k,{className:"h-16 w-16"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:["Erro! ",e.jsx(L,{className:"h-16 w-16"})]}):"Salvar"})})]})]})}export{F as E};
